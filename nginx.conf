events {}

http {
  server {
    listen 3306 ssl;

    # Use the Let's Encrypt certificate
    ssl_certificate /etc/letsencrypt/live/sql1.ardentguard.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/sql1.ardentguard.com/privkey.pem;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers on;

    location / {
      proxy_pass http://db:3306;
    }
  }
}

